<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<script src="jquery-1.11.0.min.js"></script>
<script>

    // 2. 바디태그를 읽은 후 실행할 자스코딩을 넣을 함수를 만든다.
    $(document).ready(function(){

        // 클래스 이름을 변수명에 만들어 준다.
        var moneyObj = $(".money")

        // 커서를 놔 준다. 
        moneyObj.focus();

        // 키보드 입력시 이벤트
        moneyObj.keyup(function(){

            // 내가 입력한 값.
            var money = $(this).val();

            //----------------------------//
            // 1. 숫자 골라내기              //
            //----------------------------//
            var num = "";
            
            for(var i = 0; i<money.length; i++){
                
                var i_str = money.charAt(i)
                
                if("0123456789".indexOf(i_str)>=0){

                    num = num + i_str;
                }          
            }
            //----------------------------//
            // 2. 숫자 맨 앞 0이면 제거        //
            //----------------------------//

            while(num.charAt(0)=="0"){
                num = num.substring(1)
            }

            //----------------------------//
            // 3. 숫자 3의 배수자리에 콤마 삽입  //
            //----------------------------//
            
            var result = "";
            var cnt = 0; 
            for(var i =num.length-1; i>=0; i--){

                cnt++;
                if(cnt%3==0){

                    result = "," + num.charAt(i) + result;

                }else{

                    result = num.charAt(i) + result;
                }
            }
            //----------------------------//
            // 4. 최종값 맨앞이 콤마면 제거     //
            //----------------------------//

            if(result.charAt(0)==","){
                result = result.substring(1);
            }

            // 입력양식에 찍어 보여주기
            $(this).val(result);

            // div 텍스트로 찍어보기
            $(".msg").text(result);

        });
  
    });

</script>
</head>
<!-- 1. 바디태그 안에 텍스트 입력양식을 만든다.-->
<body><center>
    <input type="text" class="money" width="20" maxlength="15"> 원</input>
    <div class="msg"></div>

</body>
</html>